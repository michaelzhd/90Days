##Git知识补充

- `git diff`:要查看尚未暂存(工作区)的文件更新了那些部分，不加参数直接输入`git diff`。

- `git diff --cached`查看已经暂存起来的变化。

- `git commit -a`跳过暂存区域直接提交

####移除文件

要从Git中移除某个文件，就必须要从自己跟踪文件清单中移除（确切的说，是从暂存区域移除），然后提交。可以用`git rm`命令完成此项工作，并且连带从工作目录中删除指定的文件，这样以后就不会出现在为未跟踪文件清单中了。

如果只是简单的从工作目录中手工删除文件，运行`git status`时就会在【changes not staged for commit】部分(也就是未暂存清单)看到。 然后再次运行`git rm`记录此次移除文件的操作。

另一种情况是，我们想把文件从Git仓库中删除(亦即从暂存区域移除)，但是仍然希望保留在当前工作目录中。可以使用：

	git rm --cached fileName
	
移除文件这几个命令是在工作区和暂存区以及本地仓库之间工作的，不会牵涉到远程仓库，具体细节还待研究。

####文件重命名

Git并不跟踪文件移动操作。如果在Git中重命名了某个文件，仓库中存储的元数据并不会体现出这是一次改名操作。不过Git非常聪明，它会推断出着发生了什么。

要在Git中对文件改名，可以这么做：

	git mv file_from file_to
	
实际上`git mv`命令相当于运行了下面三条命令：

	mv README.md README
	git rm README.MD
	git add README
	
这也是在本地仓库。

####撤销操作

######修改最后一次提交
有时候，我们提交完了才发现漏掉了几个文件没有加，或者提交信息写错了。想要撤销刚才提交的操作，可以使用`--amend`选项重新提交：

	git commit --amend
	
如果刚才提交时忘记了暂存某些修改，可以先补上暂存操作，然后再运行`--amend`提交：

	git commit -m 'initial commit'
	git add forgotten-file
	git commit --amend

以上三条命令只产生一个提交，第二个提交命令修正了第一个的提交内容。

######取消已经暂存的文件

	git reset HEAD fileName
	
######取消对文件的修改

`git status`提示了具体撤销方法：

	git checkout -- fileName
	
当使用完这条命令后，该文件已经恢复到修改前的版本。你可能已经意识到，这条命令有些危险，所有对文件的修改都没有了，因为我们刚刚把之前版本的文件复制过来重写此文件。

**注意： 
任何已经提交到 Git 的都可以被恢复。即便在已经删除的分支中的提交, 或者用 --amend 重新改写的提交,都可以被恢复(关于数据恢复的内容见第九章)。 所以,你可能失去的数据,仅限于没有提交过的,对 Git 来说它们就像从未存在过 一样。**
