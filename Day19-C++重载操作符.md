##C++重载操作符

重载操作符是具有特殊名称的函数：保留字`operator`后接需定义的操作符号。像其他任意的函数一样，重载操作符具有返回类型和形参列表。

下面有几个**不能重载**的操作符：`::` `.*` `.` `?:`，别问我为什么，牛逼，任性！能重载的操作符太多，这里就不能一一列举了，但是要注意的是，不能通过连接其他合法符号来创建任何新的操作符。

####重载操作符必须具有一个类类型的操作数
用于内置类型的操作符，其含义不能改变。例如：内置的整型加号操作符不能重定义：

	int operator+(int,int);//error
	
也不能为任何内置类型定义额外的新的操作符。例如，不恩能够定义接受两个数去类型操作数的`operator+`。

**注意：**

重载操作符必须具有至少有一个类类型或枚举类型的操作数。这条规则强制重载操作符不能重新定义用于内置类型对象的操作符的含义。

####类成员与非成员

大多数重载操作符可以定义为普通的非成员函数或者类的成员函数。

**注意：**

作为类成员重载函数，其形参看起来比操作数目少1.作为成员函数的操作符有一个隐含的`this`形参，限定为第一个操作数。

重载一元操作符如果作为成员函数就没有显式形参，如果作为非成员函数就有一个形参。类似的，重载二元操作符定义为成员函数有一个形参，定义为非成员函数的时候有两个形参。

**一般将算数和关系操作符定义为非成员函数，而将赋值操作符定义为成员**

####重载操作符和友元关系

操作符定义为非成员函数的时候一般将他们设置为操作类的友元，如下：

	class Sales_item{
		friend std::istream& operator>>(std::istream&,Sale_item&);
		friend std::ostream& operator<<(std::ostream&,Sale_item&);
	public:
		Sale_item& operator+=(const Sale_item&);
	};
		Sale_item operator+(const Sale_item&,const Sale_item&);

输入和输出需要访问`private`数据不会令人惊讶，毕竟它的作用是读取类的私有成员并且输出。

####使用重载操作符

	cout<<item1 + item2<<endl;
	cout<<item1.operator+(item2)<<endl;
	
这两种方式是等价的，其余的操作符调用可以类推。