#函数式编程简介

函数式编程诞生于50年前。现在越来越多的人开始结合搜并惊醒函数式编程的实践。苹果最新的`swift`也加入匿名函数等机制。

函数式编程是把一个功能的一个操作和相关数据封装在一起，函数式编程是函数满天飞。函数式编程比面向对象的优势是颗粒度更小，生命周期更短。

####定义
是一种编程泛型，它将计算机运算视为数学上的函数计算，并且避免使用程序状态以及易变对象。其关键的要素是函数被当做变量处理，能够参与运算。

- 函数式编程强调程序的执行结果比执行过程更为重要。关注于描述问题，而不是怎么实现，隐藏实现细节。
- 化繁为简。利用若干简单的执行单元让计算结果不断渐进，逐层推到复杂的运算。
- 你的优秀好我的人生无关，请带着你的趾高气昂滚蛋吧。

(1)下面看一个简单的例子:

	shopList=['apple','mango','carrt','banana']
	print 'My shopping list is',shopList
	
	#输出
	#My shooping list is['apple','mango','carrt','banana']
	
这样的代码更易读，代码只是描述干什么，而不是如何做到这点的具体实现。如果是过程式编程，需要一个`for`循环去买哦书实现细节。

(2)要实现这样的一个数学表达式:

	( 1 + 2 ) * 3 - 4
传统过程：
	
	var a=1+2
	var b=a*3
	var c=b-4
	
函数式编程要求使用函数，我们可以把运算过程定义为不同的函数，然后携程下面这样：

	var result=subtract(multiply(add(1,2),3),4);
	
(3)函数不受外部变量的影响，不依赖于外部变量，也不改变外部变量。

	int count;
	void increment()
	{
		return count++;
	}
函数式编程：

	def increment(count)
		return count+1
		
函数不访问全局变量，也不改变全局变量。

####函数式编程特性

- **数据不可变性：**多有的变量只可赋值一次，变量不可变，如果想改变变量就创建一个新的变量。
- **函数是第一公民：**函数可以像普通变量一样去使用。函数可以像变量一样去创建、修改、并当成变量一样传递，返回或是在函数中嵌套函数。
- **引用透明：**指的是函数的运行不依赖于外部变量或“状态”，只依赖于输入的参数，任何时候只要参数相同，调用函数所得到的返回值总是相同的。**天然适应并发编程，因为调用函数的结果具有一致性，所以根本不需要加锁，也不存在死锁的问题。**
- **尾递归化：**因为函数调用要压栈保存现场，递归层次过深的话，压栈过多产生性能的问题。所以引入尾递归化，每次递归都会重用栈提高性能。

####函数式编程技术

- 映射化简
- 管道
- 递归
- 柯里化
- 高阶函数

######柯里化
把一个函数的多个参数分解成多个函数，然后把函数多层封装起来，每层函数都返回一个函数去接受下一个参数。如下：
求两个数字相加：

	def func(a):
		def add(b):
			return a+b
		return add
		
	funcA=func(5)
	print funcA(10)
	
`func`函数返回一个add函数，`funcA`变量就是一个a为5的add函数。print `funcA(10)`就是向`add`函数传入10，最后结果就是5+10输出15。
	